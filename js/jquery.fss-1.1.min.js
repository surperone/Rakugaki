/**
*
* FSS - Full Screen Sliding Website Plugin
* URL: http://www.codecanyon.net/user/skyplugins
* Version: 1.1
* Author: Sky Plugins
* Author URL: http://www.codecanyon.net/user/skyplugins
*
* Modified by Art Chen (http://rakugaki.me)
* ChangeLog:
* 1. Removed autoplay feature
* 2. Removed dynamic ajax loading
*
*/
(function(a){a.fn.preload=function(){this.each(function(){var b=new Image();b.src=this})};a.fn.fss=function(e){var t={homeButton:".home-button",prevButton:".prev-button",nextButton:".next-button",transition:"vertical-slide",transitionSpeed:500,easing:"swing",enableKeyboardNavigation:true};if(e){a.extend(t,e)}if(this.length>1){this.each(function(){a(this).fss(e)});return this}var k=this;var p=a(this);var l=p.children("div.slides");var o=l.children("div.slide");var d=false;var n=0;var j=o.length;var r=function(){s();height=a(window).height();width=a(window).width();p.css({height:height,width:width,position:"relative",overflow:"hidden"});l.css("position","absolute");o.css({position:"relative",width:width,height:height,overflow:"auto"});if(t.transition=="horizontal-slide"){l.css("width",j*width);o.css("float","left")}u();c();f(p);v(p)};var c=function(){a.address.init(function(w){a.address.autoUpdate(false)}).change(function(w){var x=w.value;if(m()){if(x.indexOf("#")!=-1){x=x.split("#")[1]}else{if(x.indexOf("/")!=-1){x=x.split("/")[1]}}}else{x=w.value.substring(1)}if(x!=""&&typeof(x)!="undefined"){if(o.filter("#"+x).size()>0){k.selectById(x)}else{k.gotoHome()}}else{k.gotoHome()}})};var s=function(){a("html, body").css({margin:0,padding:0,overflow:"hidden"});if(m()){a("html, body").css({overflow:"auto"})}a(window).resize(function(){height=a(window).height();width=a(window).width();p.css({width:width,height:height});o.css({width:width,height:height});var w=q().index();if(w!=-1){if(t.transition=="horizontal-slide"){l.css({width:j*width});p.stop().scrollLeft(w*width)}else{if(t.transition=="vertical-slide"){p.stop().scrollTop(w*height)}}}})};function m(){if(parseFloat(navigator.appVersion.split("MSIE")[1])==7){return true}return false}var f=function(w){w.find(".special-anchor").not(".prev-button, .next-button, .home-button").click(function(x){var y=a(this).attr("href");if(m()){y=y.split("#")[1]}y=y.replace(/^#/,"");a.address.value(y);a.address.update();return false})};var v=function(w){a(t.homeButton+".special-anchor").click(function(x){x.preventDefault();k.gotoHome()});a(t.prevButton+".special-anchor").click(function(x){x.preventDefault();k.selectPrevious()});a(t.nextButton+".special-anchor").click(function(x){x.preventDefault();k.selectNext()})};var u=function(){if(t.enableKeyboardNavigation){a(document).keydown(function(x){var w=function(){var z=false;a(".md-modal").each(function(){if(a(this).css("visibility")=="visible"){z=true}});return !z};if(x.target.type!=="textarea"&&x.target.type!=="text"&&w()){var y=x.keyCode||x.which;switch(y){case 38:k.selectPrevious();break;case 40:k.selectNext();break;default:break}}})}};this.selectById=function(y,x){var w=o.filter("#"+y).index();b(w,x)};this.gotoHome=function(w){a.address.value(o.eq(0).attr("id"));a.address.update();if(w){w()}};this.selectNext=function(x){var w=q().index();if(++w==j){w=0}a.address.value(o.eq(w).attr("id"));a.address.update();if(x){x()}};this.selectPrevious=function(x){var w=q().index();if(--w<0){w=j-1}a.address.value(o.eq(w).attr("id"));a.address.update();if(x){x()}};var b=function(w,z){var x=q();if(w!=x.index()&&w!=-1){clearInterval(n);h().removeClass("prev");x.removeClass("current").addClass("prev");o.eq(w).addClass("current");if(!d){var y=t.transitionSpeed;t.transitionSpeed=0;d=true}switch(t.transition){case"vertical-slide":g(z);break;default:case"none":case"horizontal-slide":i(z);break}if(typeof(y)!="undefined"){t.transitionSpeed=y}}else{if(z){z()}}};var i=function(w){p.stop().animate({scrollLeft:q().index()*width},t.transitionSpeed,t.easing,function(){if(w){w()}})};var g=function(w){p.stop().animate({scrollTop:q().index()*height},t.transitionSpeed,t.easing,function(){if(w){w()}})};var q=function(){return o.filter("div.current")};var h=function(){return o.filter("div.prev")};r();return this}})(jQuery);